<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
        <script src="ajax.js"></script>
        <script>
            window.onload=()=> {
                let oUser = document.getElementById('user');
                let oPass = document.getElementById('pass');
                let oBtn = document.getElementById('btn');
                oBtn.onclick = ()=>{
                    ajax({
                        url:'/login',
                        data:{user:oUser.value,pass:oPass.value},
                        success:(str)=>{
                            let json = eval('('+str+')');
                            if(json.ok){
                                alert('登陆成功');
                            }else{
                                alert('登录失败:'+json.msg);
                            }
                        },
                        error:()=>{
                            alert('通信失败！')
                        }

                    })
                }
            }
        </script>
    </head>
    <body>
    用户：<input type="text" id="user"><br>
    密码：<input type="password" id="pass"><br>
    <input type="submit" value="提交" id="btn">
    </body>
</html>